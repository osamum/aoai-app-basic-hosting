# 演習 6 : パブリック ネットワーク向けのエンドポイントの公開

[クライアント トラフィックの単一の安全なエントリ ポイント](https://learn.microsoft.com/ja-jp/azure/architecture/web-apps/app-service/architectures/baseline-zone-redundant#networking)を提供するために、Application Gateway を使用して Web アプリケーションを公開します。

Azure Application Gateway は、Web アプリケーションに対するトラフィックを管理できる Web トラフィック (OSI レイヤー 7) ロード バランサーです。 Application Gateway では、URI パスやホスト ヘッダーなど、HTTP 要求の追加属性に基づいてルーティングを決定できます。

Azure Application Gateway が提供する機能の詳細については以下のドキュメントを参照してください。

* [**Azure Application Gateway の機能**](https://learn.microsoft.com/ja-jp/azure/application-gateway/features)

ここまでの演習で、演習用アプリケーションをホストするのに必要な、App Service、AI Search と OpenAI サービスはパブリック ネットワークからのアクセスは無効になっており、仮想ネットワーク内に公開したプライベート エンドポイントを介してのみアクセス可能になっています。

ここに Application Gateway を配置し、インターネットからのアクセスを受け入れ、Web アプリケーションにトラフィックをルーティングするように構成します。

この構成を実際のサービスの運用環境向けに行うには、Azure のリソースとは別に以下のものを準備する必要があります。

* **カスタムドメイン** (例: `contoso.com`)
* **SSL 証明書** (例: `*.contoso.com`)

この演習では上記のリソースが用意できない場合は、運用環境向けではありませんが、手順の学習として以下の Application Gateway で **HTTP** を使用した構成を実施してください。

* [**演習 6-1-E : Application Gateway を介したアプリケーションの公開(HTTP)**](Ex06-1e.md)

カスタムドメインと SSL 証明書がある場合は、以下の Application Gateway で **HTTPS** を使用した構成を実施してください。

* **演習 6-1-E : Application Gateway を介したアプリケーションの公開(HTTPS)**(※作成中)


---

👈　[演習 5-3 : App Service からの閉域化されたサービスへのアクセス](Ex05-3.md)

🏚️　[README に戻る](README.md)

<!-- 
https://jpaztech.github.io/blog/network/appgw-appservice-redirectissue/

https://qiita.com/smr1/items/77099256878bb35c1dab

https://learn.microsoft.com/ja-jp/azure/virtual-machines/custom-domain#add-custom-domain-to-vm-public-ip-address

https://learn.microsoft.com/ja-jp/azure/app-service/app-service-web-tutorial-custom-domain?tabs=root%2Cazurecli

https://learn.microsoft.com/ja-jp/azure/application-gateway/configure-web-app?tabs=customdomain%2Cazure-portal

-->